<?xml version="1.0" encoding="UTF-8"?>
<!--
This file is subject to the terms and conditions defined in the
files 'LICENSE' and 'NOTICE', which are part of this source
code package.
-->

<menus xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
 xsi:noNamespaceSchemaLocation="http://ofbiz.apache.org/dtds/widget-menu.xsd">

    <menu name="contentsetup" selected-menuitem-context-field-name="activeSubMenuItem">
        <menu-item name="adddataresource" title="${uiLabelMap.CommonAdd}" widget-style="+${styles.action_nav} ${styles.action_add}">
            <link target="AddDataResource" name="AddDataResource" target-window="_top" />
        </menu-item>
        <menu-item name="finddataresource" title="${uiLabelMap.CommonFind}" widget-style="+${styles.action_nav} ${styles.action_find}">
            <link target="FindDataResource" name="FindDataResource" target-window="_top" />
        </menu-item>
        <menu-item name="browsedataresource" title="${uiLabelMap.ContentBrowse}">
            <link target="BrowseDataResource" name="BrowseDataResource" target-window="_top" />
        </menu-item>
        <menu-item name="editdataresource" title="${uiLabelMap.ContentDataResource}">
            <condition disabled-style="+disabled">
                <not><if-empty field="dataResourceId"/></not>
            </condition>
            <link target="EditDataResource" name="EditDataResource" target-window="_top"/>
        </menu-item>
        <menu-item name="editelectronictext" title="${uiLabelMap.ContentDataResourceText}" >
            <condition disabled-style="+disabled">
                <not><if-empty field="dataResourceId"/></not>
            </condition>
            <link target="EditElectronicText" name="EditElectronicText" target-window="_top"/>
        </menu-item>
        <menu-item name="edithtmltext" title="${uiLabelMap.ContentHtml}" >
            <condition disabled-style="+disabled">
                <not><if-empty field="dataResourceId"/></not>
            </condition>
            <link target="EditHtmlText" name="EditHtmlText" target-window="_top"/>
        </menu-item>
        <menu-item name="uploadimage" title="${uiLabelMap.ContentImage}" >
            <condition disabled-style="+disabled">
                <not><if-empty field="dataResourceId"/></not>
            </condition>
            <link target="UploadImage" name="UploadImage" target-window="_top"/>
        </menu-item>
        <menu-item name="editdataresourceattribute" title="${uiLabelMap.ContentAttribute}" >
            <condition disabled-style="+disabled">
                <not><if-empty field="dataResourceId"/></not>
            </condition>
            <link target="EditDataResourceAttribute" name="EditDataResourceAttribute" target-window="_top"/>
        </menu-item>
        <menu-item name="editdataresourcerole" title="${uiLabelMap.ContentDataResourceRole}" >
            <condition disabled-style="+disabled">
                <not><if-empty field="dataResourceId"/></not>
            </condition>
            <link target="EditDataResourceRole" name="EditDataResourceRole" target-window="_top"/>
        </menu-item>
        <menu-item name="editdataresourceproductfeatures" title="${uiLabelMap.ContentDataResourceProductFeatures}" >
            <condition disabled-style="+disabled">
                <not><if-empty field="dataResourceId"/></not>
            </condition>
            <link target="EditDataResourceProductFeatures" name="EditDataResourceProductFeatures" target-window="_top"/>
        </menu-item>
    </menu>
    <menu name="DataResourceButtonBar" extends="CommonTabBarMenu" extends-resource="component://common/widget/CommonMenus.xml">
        <menu-item name="findDataResource" title="${uiLabelMap.CommonFind}">
            <link target="findDataResource"/>
        </menu-item>
        <menu-item name="navigateDataResource" title="${uiLabelMap.ContentNavigate}">
            <link target="navigateDataResource"/>
        </menu-item>
    </menu>
    
    <menu name="DataResourceSideBar" extends="CommonSideBarMenu" extends-resource="component://common/widget/CommonMenus.xml">
        <include-elements menu-name="DataResourceButtonBar" recursive="includes-only" />
    </menu>
    
    <menu name="dataresource" extends="CommonTabBarMenu" extends-resource="component://common/widget/CommonMenus.xml">
        <menu-item name="editDataResource" title="${uiLabelMap.CommonEdit}">
            <condition>
                <not><if-empty field="currentValue.dataResourceId"/></not>
            </condition>
            <link target="EditDataResource">
                <parameter param-name="dataResourceId" from-field="parameters.dataResourceId"/>
            </link>
        </menu-item>
        <menu-item name="editElectronicText" title="${uiLabelMap.ContentDataResourceText}" >
            <condition>
                <and>
                    <not><if-empty field="currentValue.dataResourceId"/></not>
                    <if-compare field="currentValue.dataResourceTypeId" operator="equals" value="ELECTRONIC_TEXT"/>
                </and>
            </condition>
            <link target="EditElectronicText">
                <parameter param-name="dataResourceId" from-field="parameters.dataResourceId"/>
            </link>
        </menu-item>
        <menu-item name="editHtmlText" title="${uiLabelMap.ContentDataResourceHtml}" >
            <condition>
                <and>
                    <not><if-empty field="currentValue.dataResourceId"/></not>
                    <if-compare field="currentValue.dataResourceTypeId" operator="equals" value="ELECTRONIC_TEXT"/>
                </and>
            </condition>
            <link target="EditHtmlText">
                <parameter param-name="dataResourceId" from-field="parameters.dataResourceId"/>
            </link>
        </menu-item>
        <menu-item name="uploadImage" title="${uiLabelMap.ContentDataResourceUpload}" >
            <condition>
                <or>
                    <if-compare field="currentValue.dataResourceTypeId" operator="equals" value="IMAGE_OBJECT"/>
                    <and>
                        <if-compare field="currentValue.dataResourceTypeId" operator="contains" value="FILE"/>
                    </and>
                </or>
            </condition>
            <link target="UploadImage">
                <parameter param-name="dataResourceId" from-field="parameters.dataResourceId"/>
            </link>
        </menu-item>
        <menu-item name="EditDataResourceAttribute" title="${uiLabelMap.ContentDataResourceAttribute}" >
            <condition>
                <not><if-empty field="currentValue.dataResourceId"/></not>
            </condition>
            <link target="EditDataResourceAttribute">
                <parameter param-name="dataResourceId" from-field="parameters.dataResourceId"/>
            </link>
        </menu-item>
        <menu-item name="editDataResourceRole" title="${uiLabelMap.ContentDataResourceRole}" >
            <condition>
                <not><if-empty field="currentValue.dataResourceId"/></not>
            </condition>
            <link target="EditDataResourceRole">
                <parameter param-name="dataResourceId" from-field="parameters.dataResourceId"/>
            </link>
        </menu-item>
        <menu-item name="editDataResourceProductFeatures" title="${uiLabelMap.ContentDataResourceProductFeatures}" >
            <condition>
                <not><if-empty field="currentValue.dataResourceId"/></not>
            </condition>
            <link target="EditDataResourceProductFeatures">
                <parameter param-name="dataResourceId" from-field="parameters.dataResourceId"/>
            </link>
        </menu-item>
    </menu>
</menus>
